{% extends "account/base.html" %}

{% block title %}Change your password{% endblock %}

{% block content %}
<div class="background">
    <div class="shape"></div>
    <div class="shape"></div>
</div>

<form method="post">
    {% csrf_token %}
    <h3>Change your password</h3>
    <p class="form-subtext">Enter your current password and choose a new one.</p>

    {% if form.errors %}
    <div class="form-errors">
        {% if form.old_password.errors %}
            <p>Current password is incorrect.</p>
        {% endif %}
        {% if form.new_password1.errors %}
            <p>New password does not meet the requirements.</p>
        {% endif %}
        {% if form.new_password2.errors %}
            <p>New passwords do not match.</p>
        {% endif %}
    </div>
    {% endif %}

    <label for="id_old_password">Current password</label>
    {{ form.old_password }}

    <label for="id_new_password1">New password</label>
    {{ form.new_password1 }}

    <label for="id_new_password2">Confirm new password</label>
    {{ form.new_password2 }}

    <button type="submit">Update password</button>
</form>
{% endblock %}

<form method="post">
    {% csrf_token %}

    {% if form.non_field_errors %}
      <div class="form-errors">{{ form.non_field_errors }}</div>
    {% endif %}

    <label for="id_old_password">Current password</label>
    {{ form.old_password }}
    {{ form.old_password.errors }}

    <label for="id_new_password1">New password</label>
    {{ form.new_password1 }}
    {{ form.new_password1.errors }}

    <label for="id_new_password2">Confirm new password</label>
    {{ form.new_password2 }}
    {{ form.new_password2.errors }}

    <button type="submit">Update password</button>
</form>
